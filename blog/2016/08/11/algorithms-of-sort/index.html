<!DOCTYPE html><html lang="zh-cn"><head><meta charset="UTF-8"><title>èŠä¸€èŠæ’åºç®—æ³• | å°èƒ¡å­å“¥çš„ä¸ªäººç½‘ç«™</title><meta name="HandheldFriendly" content="True"><meta name="viewport" content="width=device-width,height=device-height,initial-scale=1,user-scalable=0"><meta name="author" content="https://plus.google.com/112634278852964994392?hl=zh-cn"><meta name="email" content="barret.china@gmail.com"><meta name="description" content="ä¸¤æœˆå‰èŠ±äº†äº›æ—¶é—´ï¼Œå°†å¤§å­¦é‡Œå­¦è¿‡çš„æ’åºç®—æ³•éƒ½å¤ä¹ äº†ä¸€éï¼Œä»£ç æ”¾åœ¨ github ä¸Šã€‚æ²¡æœ‰æ•´ç†ï¼Œä»Šå¤©ç¿»äº†ç¿»ä»£ç ï¼Œé‡æ–° review äº†ä¸€éï¼Œä¹Ÿé¡ºä¾¿åšäº†ç‚¹è®°å½•ã€‚"><meta property="og:type" content="article"><meta property="og:title" content="èŠä¸€èŠæ’åºç®—æ³• | å°èƒ¡å­å“¥çš„ä¸ªäººç½‘ç«™"><meta property="og:url" content="http://www.barretlee.com/blog/2016/08/11/algorithms-of-sort/"><meta property="og:site_name" content="èŠä¸€èŠæ’åºç®—æ³•"><meta property="og:description" content="ä¸¤æœˆå‰èŠ±äº†äº›æ—¶é—´ï¼Œå°†å¤§å­¦é‡Œå­¦è¿‡çš„æ’åºç®—æ³•éƒ½å¤ä¹ äº†ä¸€éï¼Œä»£ç æ”¾åœ¨ github ä¸Šã€‚æ²¡æœ‰æ•´ç†ï¼Œä»Šå¤©ç¿»äº†ç¿»ä»£ç ï¼Œé‡æ–° review äº†ä¸€éï¼Œä¹Ÿé¡ºä¾¿åšäº†ç‚¹è®°å½•ã€‚"><meta name="generator" content="https://hexo.io"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="renderer" content="webkit"><link href="http://www.barretlee.com/blogimgs/app-icon.png" rel="apple-touch-icon-precomposed"><link rel="shoticon" href="http://www.barretlee.com/favicon.ico" type="image/x-icon"><link rel="alternate" type="application/rss+xml" href="http://www.barretlee.com/rss2.xml" title="å°èƒ¡å­å“¥çš„ä¸ªäººç½‘ç«™"><link rel="prev" href="http://www.barretlee.com/blog/2016/08/23/javascript-sandbox/" title="æ„å»ºä¸€ä¸ªå®‰å…¨çš„ JavaScript æ²™ç®±"><link rel="next" href="http://www.barretlee.com/blog/2016/08/04/funning-gitlog/" title="æœ‰æ„æ€çš„ git-log"><link rel="start" href="http://www.barretlee.com/entry/" title="Blog Entry"><link rel="stylesheet" href="/public/css/style.css?v=20191101"></head></html><body><div class="rainbow"></div><div class="container"><span class="local-search local-search-google local-search-plugin" style="position:absolute;right:20px;top:30px"><input type="search" placeholder="ç«™å†…æœç´¢" id="local-search-input" class="local-search-input-cls"> <i class="icon" aria-hidden="true" title="ç‚¹å‡»è¿›å…¥ Google æœç´¢">&#x2708;</i><div id="local-search-result" class="local-search-result-cls"></div></span><div class="article" itemscope itemtype="http://schema.org/Article"><div class="post"><div class="bread"><a href="/">å°èƒ¡å­å“¥çš„ä¸ªäººåšå®¢</a> Â» <a href="/entry/">åšå®¢</a> Â» <a class="category-link" href="/blog/categories/ç®—æ³•/">ç®—æ³•</a></div><div class="post-title-wrapper"><h1 class="post-title" itemprop="name">èŠä¸€èŠæ’åºç®—æ³•</h1><a href="/about/"><img src="/blogimgs/avatar.png" alt="Barretæé–"></a></div><div class="post-info"><span>ä½œè€…: <a href="/about/">Barretæé–</a></span> <span><time itemprop="timeCreated" aria-hidden="true">2016-08-11 20:24:40</time> <span class="aria-readonly">æœ¬æ–‡å‘å¸ƒæ—¶é—´ä¸º2016å¹´08æœˆ11æ—¥20æ—¶24åˆ†40ç§’</span> </span><span>åˆ†ç±»: <a class="category-link" href="/blog/categories/ç®—æ³•/">ç®—æ³•</a></span> <span tabindex="0" aria-hidden="true">æ ‡ç­¾: <a class="article-tag-link" href="/blog/tags/æ’åºç®—æ³•/">æ’åºç®—æ³•</a></span> <span class="aria-readonly">ä¸‹é¢æ˜¯æ­£æ–‡å†…å®¹</span> <span tabindex="0" aria-hidden="true">è¯„è®ºæ•°: <a href="#comments" class="ds-thread-count hash-to-comments disqus-comment-count" data-thread-key="algorithms-of-sort" data-disqus-identifier="algorithms-of-sort" id="changyan_count_unit"></a></span> <span tabindex="0" aria-hidden="true" id="busuanzi_container_site_pv">çƒ­åº¦: <span id="busuanzi_value_page_pv"></span></span></div><div class="post-content" itemprop="articleBody"><div class="shit-spider" title="é˜²çˆ¬è™«ä¸æ³¨æ˜å‡ºå¤„" tabindex="0" aria-hidden="true"><p>åŸæ–‡åœ°å€ï¼š<a href="http://www.barretlee.com/blog/2016/08/11/algorithms-of-sort/">http://www.barretlee.com/blog/2016/08/11/algorithms-of-sort/</a>ï¼Œ<a href="http://www.barretlee.com/blog/2016/08/11/algorithms-of-sort/#comments">å‚ä¸è¯„è®º</a></p><img src="/blogimgs/avatar.png" width="150"></div><p>ä¸¤æœˆå‰èŠ±äº†äº›æ—¶é—´ï¼Œå°†å¤§å­¦é‡Œå­¦è¿‡çš„æ’åºç®—æ³•éƒ½å¤ä¹ äº†ä¸€éï¼Œä»£ç æ”¾åœ¨ github ä¸Šï¼Œæ²¡æœ‰æ•´ç†ã€‚ä»Šå¤©ç¿»äº†ç¿»ä»£ç ï¼Œé‡æ–° review äº†ä¸€éï¼Œä¹Ÿé¡ºä¾¿åšäº†ç‚¹è®°å½•ã€‚</p><p><img src="/blogimgs/2016/08/11/6c0378f8gw1f6q2zz5oj1j20p00dwtam.jpg" alt="//graduatedegrees.online.njit.edu/wp-content/uploads/2015/08/Algorithms-In-Computer-Science.jpg"></p><p>ä¸‹é¢èŠ±äº†ä¸å°‘ç¯‡å¹…ï¼Œå°†åŸºç¡€æ’åºã€å¸Œå°”ã€å½’å¹¶ã€å¿«æ’ã€å †æ’åºç­‰éƒ½ä»‹ç»äº†ä¸€é€šï¼Œæ‡’å¾—æ€è€ƒçš„åŒå­¦å¯ä»¥ç•¥è¿‡ä»£ç ç›´æ¥çœ‹æ–‡å­—ï¼Œæ–‡ç« å¯¹æ’åºçš„åŸºæœ¬æ€è·¯éƒ½åšäº†ä»‹ç»ã€‚</p><a id="more"></a><h3 id="ä¸‰ç§åŸºæœ¬æ’åº"><a href="#ä¸‰ç§åŸºæœ¬æ’åº" class="headerlink" title="ä¸‰ç§åŸºæœ¬æ’åº"></a>ä¸‰ç§åŸºæœ¬æ’åº</h3><p>æ’å…¥æ’åºå’Œé€‰æ‹©æ’åºæ˜¯ä¸¤ç§æœ€åŸºæœ¬çš„æ’åºç®—æ³•ï¼Œæ€è·¯å®Œå…¨ä¸ä¸€æ ·ï¼Œä½†æ˜¯ç»†æ€ä¸€ç•ªï¼Œè¿˜æ˜¯æŒºæœ‰æ„æ€çš„ï¼š</p><p><code>insertion sort</code>ï¼Œ<a href="https://github.com/barretlee/algorithms/blob/master/chapters/chapter-2-sorting/2.1-elementary-sorts/insertion.js" target="_blank" rel="noopener">æ’å…¥æ’åº</a>ï¼Œæ€è·¯ç®€å•æ¥è¯´å°±æ˜¯æŠŠè‡ªå·±æ’å…¥åˆ°å·²æ’å¥½åºçš„åˆ—è¡¨ä¸­å»ï¼Œäº¤æ¢ä¹Ÿæ˜¯é¢‡ä¸ºé¢‘ç¹çš„ã€‚</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">insertion</span>(<span class="params">input</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">1</span>, len = input.length; i &lt; len; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> j = i; j &gt; <span class="number">0</span>; j--) &#123;</span><br><span class="line">      <span class="keyword">if</span>(input[j] &lt; input[j - <span class="number">1</span>]) &#123;</span><br><span class="line">        input[j] = [input[j - <span class="number">1</span>], input[j - <span class="number">1</span>] = input[j]][<span class="number">0</span>];</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> input;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>selection sort</code>ï¼Œ<a href="https://github.com/barretlee/algorithms/blob/master/chapters/chapter-2-sorting/2.1-elementary-sorts/selection.js" target="_blank" rel="noopener">é€‰æ‹©æ’åº</a>ï¼Œé€‰æ‹©æ’åºåªå¯¹æœ€åä¸€ä¸ªè¢«é€‰ä¸­çš„å…ƒç´ æ’åºã€‚å®ƒä¼šå¾€åæ‰¾åˆ°åŒ…æ‹¬è‡ªå·±åœ¨å†…æœ€å°çš„ä¸€ä¸ªå…ƒç´ ï¼Œæ›¿æ¢è‡ªå·±ã€‚ç®€å•æ¥è¯´å°±æ˜¯æŠŠç¬¬ i å°çš„å…ƒç´ æ”¾åˆ°ç¬¬ i ä¸ªåºä½ä¸Šã€‚</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">selection</span>(<span class="params">input</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>, len = input.length; i &lt; len - <span class="number">1</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">var</span> min = i;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> j = i + <span class="number">1</span>; j &lt; len; j++) &#123;</span><br><span class="line">      <span class="keyword">if</span>(input[j] &lt; input[min]) &#123;</span><br><span class="line">        min = j;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    input[i] = [input[min], input[min] = input[i]][<span class="number">0</span>];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> input;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è€Œ<a href="https://github.com/barretlee/algorithms/blob/master/chapters/chapter-2-sorting/2.1-elementary-sorts/bubble.js" target="_blank" rel="noopener">å†’æ³¡æ’åº</a>ï¼Œå°±æ›´ç®€å•äº†ï¼Œä»ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹ï¼Œå¾€åæ¯”è¾ƒï¼Œé‡åˆ°æ¯”è‡ªå·±å°çš„å…ƒç´ å°±äº¤æ¢ä½ç½®ï¼Œäº¤æ¢çš„æ¬¡æ•°æœ€å¤šï¼Œè‡ªç„¶ä¹Ÿæ˜¯æ€§èƒ½æœ€å·®çš„ã€‚</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bubble</span>(<span class="params">input</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>, len = input.length; i &lt; len - <span class="number">1</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> j = i + <span class="number">1</span>; j &lt; len; j++) &#123;</span><br><span class="line">      <span class="keyword">if</span>(input[j] &lt; input[i]) &#123;</span><br><span class="line">        input[j] = [input[i], input[i] = input[j]][<span class="number">0</span>];</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> input;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é’ˆå¯¹éšæœºæ€§æ’åˆ—ä¸åŒï¼ˆæ¯”å¦‚å®Œå…¨éšæœºï¼Œé¡ºåºï¼Œå€’åºï¼ŒåŠé¡ºåºç­‰çŠ¶æ€ï¼‰çš„æ•°æ®ï¼Œä¸‰ç§æ•ˆæœä¹Ÿæ˜¯ä¸ä¸€æ ·çš„ï¼Œå¯ä»¥æ€è€ƒä¸‹ã€‚</p><h3 id="å¸Œå°”æ’åº"><a href="#å¸Œå°”æ’åº" class="headerlink" title="å¸Œå°”æ’åº"></a>å¸Œå°”æ’åº</h3><p>ä¸Šé¢æåˆ°äº†ä¸‰ç§æœ€åŸºæœ¬çš„æ’åºç®—æ³•ï¼Œè¿™é‡Œè¦æåˆ°çš„å¸Œå°”æ’åºï¼Œæœ‰ç‚¹ä¸å¥½ç†è§£ã€‚</p><p>ä»£ç ï¼š<a href="https://github.com/barretlee/algorithms/blob/master/chapters/chapter-2-sorting/2.1-elementary-sorts/shell.js" target="_blank" rel="noopener">/chapters/chapter-2-sorting/2.1-elementary-sorts/shell.js</a></p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">shell</span>(<span class="params">input</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> h = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">var</span> len = input.length;</span><br><span class="line">  <span class="keyword">while</span>(h &lt; <span class="built_in">Math</span>.floor(len / <span class="number">3</span>)) &#123;</span><br><span class="line">    h = h * <span class="number">3</span> + <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">while</span>(h &gt;= <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = h; i &lt; len; i++)  &#123;</span><br><span class="line">      <span class="keyword">for</span>(<span class="keyword">var</span> j = i; j &gt;= h; j -= h) &#123;</span><br><span class="line">        <span class="keyword">if</span>(input[j] &lt; input[j - h]) &#123;</span><br><span class="line">          input[j] = [input[j - h], input[j - h] = input[j]][<span class="number">0</span>];</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    h = <span class="built_in">Math</span>.floor(h / <span class="number">3</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> input;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç®—æ³•å¤æ‚ä¸ä»£è¡¨éœ€è¦å¾ˆå¤šçš„ä»£ç å»å®ç°ï¼Œå› ä¸ºä»£ç è¡¨è¾¾çš„æ˜¯è¿‡ç¨‹ï¼Œé€šè¿‡å¾ªç¯ç­‰æ–¹å¼å¯ä»¥å¾ˆè¿…é€Ÿå®ç°ä¸€ä¸ªè¿‡ç¨‹ï¼Œè€Œç®—æ³•æ˜¯å¤„ç†é—®é¢˜çš„æ–¹æ³•ï¼ŒæŠŠå®ƒè¡¨è¾¾æ¸…æ¥šå¯èƒ½å°±å¾—è´¹ä¸å°‘å”‡èˆŒï¼Œç”šè‡³è¿˜å¾—é…ä¸Šä¸€äº›å›¾è¾…åŠ©é˜…è¯»ã€‚</p><p>å¸Œå°”æ’åºï¼Œå¤§æ¦‚çš„æ€è·¯å°±æ˜¯ä¸æ–­åœ°ä»æ•´ä½“ä¸Šè°ƒæ•´æ•°æ®çš„é¡ºåºï¼Œå°†æ¯”è¾ƒå¤§çš„æ•°æ®å°½é‡å¾€åæŒªï¼Œæ¯”è¾ƒå°çš„æ•°æ®å°½é‡å¾€å‰æŒªã€‚æ•°æ®çš„æ¬ç§»ä¹Ÿä¸æ˜¯ä¸€æ­¥å®Œæˆï¼Œæ¯ä¸€æ¬¡æ¬ç§»éƒ½ä¼šå°†æ•°æ®åˆ†å—ï¼Œåˆ†å—çš„ç›®çš„æ˜¯å°½å¯èƒ½çš„æ¬ç§»è·ç¦»æ¯”è¾ƒè¿œçš„æ•°æ®ï¼Œä»è€Œå‡å°‘æ¯”è¾ƒæ“ä½œå’Œäº¤æ¢æ“ä½œã€‚</p><h3 id="å½’å¹¶æ’åº"><a href="#å½’å¹¶æ’åº" class="headerlink" title="å½’å¹¶æ’åº"></a>å½’å¹¶æ’åº</h3><p>åŸºæœ¬æ’åºå’Œå¸Œå°”æ’åºæ˜¯éƒ½æ˜¯ä»å¤´åˆ°å°¾å»éå†æ•°æ®ï¼Œä¸å¯é¿å…çš„å¸¦æ¥å¾ˆå¤šäº¤æ¢æ“ä½œã€‚å½’å¹¶æ’åºæ˜¯ä¸€ç§ç”¨ç©ºé—´æ¢æ—¶é—´çš„æ’åºç®—æ³•ï¼Œä¸€ä¸ªæ•°ç»„æˆªæ–­æˆä¸¤ä¸ªå­æ•°ç»„ï¼Œå­æ•°æ®æ’å¥½åºååˆå¹¶åˆ°ä¸€èµ·ã€‚</p><p>ä»£ç ï¼š<a href="https://github.com/barretlee/algorithms/blob/master/chapters/chapter-2-sorting/2.2-mergesort/merge.js" target="_blank" rel="noopener">/chapters/chapter-2-sorting/2.2-mergesort/merge.js</a></p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">merge</span>(<span class="params">input1, input2</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> i = <span class="number">0</span>, j = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">var</span> output = [];</span><br><span class="line">  <span class="keyword">while</span>(i &lt; input1.length || j &lt; input2.length) &#123;</span><br><span class="line">    <span class="keyword">if</span>(i == input1.length) &#123;</span><br><span class="line">      output.push(input2[j++]);</span><br><span class="line">      <span class="keyword">continue</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(j == input2.length) &#123;</span><br><span class="line">      output.push(input1[i++]);</span><br><span class="line">      <span class="keyword">continue</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(input1[i] &lt; input2[j]) &#123;</span><br><span class="line">      output.push(input1[i++]);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      output.push(input2[j++]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> output;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢æ˜¯ä¸€ä¸ªç®€å•çš„åˆå¹¶ç®—æ³•ï¼Œå°†ä¸¤ä¸ªæœ‰åºæ•°æ®åˆå¹¶ä¸ºä¸€ä¸ªã€‚æœ‰äººåº”è¯¥ä¼šæƒ³åˆ°ï¼Œæ—¢ç„¶ä¸€ä¸ªæ•°ç»„å¯ä»¥æ‰“æ•£æˆä¸¤ä¸ªè¿›è¡Œæ’åºï¼Œé‚£è¢«æ‰“ç®—çš„å­æ•°ç»„æ˜¯ä¸æ˜¯ä¹Ÿå¯ä»¥ç»§ç»­è¢«æ‰“æ•£å‘¢ï¼Ÿ</p><p>ç­”æ¡ˆæ˜¯è‚¯å®šçš„ã€‚è¿™æ˜¯ä¸€ç§å…¸å‹çš„<strong>åˆ†æ²»æ€æƒ³</strong>ï¼Œé€’å½’å½’å¹¶ã€‚</p><p>ä»£ç ï¼š<a href="https://github.com/barretlee/algorithms/blob/master/chapters/chapter-2-sorting/2.2-mergesort/mergeRecursiveTop2Bottom.js" target="_blank" rel="noopener">/chapters/chapter-2-sorting/2.2-mergesort/mergeRecursiveTop2Bottom.js</a></p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">mergeRecursiveTop2Bottom</span>(<span class="params">input</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> sort(input, <span class="number">0</span>, input.length - <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">sort</span>(<span class="params">arr, start, end</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(start &gt;= end) &#123;</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> mid = ((end - start) &gt;&gt; <span class="number">1</span>) + start;</span><br><span class="line">    sort(arr, start, mid);</span><br><span class="line">    sort(arr, mid + <span class="number">1</span>, end);</span><br><span class="line">    <span class="keyword">return</span> merge(arr, start, mid, end);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">merge</span>(<span class="params">arr, start, mid, end</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> i = start, j = mid + <span class="number">1</span>, tmp = [];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> k = start; k &lt;= end; k++) &#123;</span><br><span class="line">      tmp[k] = arr[k];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(k = start; k &lt;= end; k++) &#123;</span><br><span class="line">      <span class="keyword">if</span>(i &gt; mid) &#123;</span><br><span class="line">        arr[k] = tmp[j++];</span><br><span class="line">        <span class="keyword">continue</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span>(j &gt; end) &#123;</span><br><span class="line">        arr[k] = tmp[i++];</span><br><span class="line">        <span class="keyword">continue</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span>(tmp[i] &lt; tmp[j]) &#123;</span><br><span class="line">        arr[k] = tmp[i++];</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        arr[k] = tmp[j++];</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„ç®—æ³•æ˜¯è‡ªé¡¶å‘ä¸‹çš„é€’å½’å½’å¹¶ï¼Œç®€å•æ¥è¯´å°±æ˜¯è§£å†³å¾ˆå¤šå°é—®é¢˜ï¼Œé‚£ä¹ˆå¤§é—®é¢˜ä¹Ÿå°±è‡ªç„¶è€Œç„¶çš„è§£å†³äº†ï¼›è¿˜æœ‰ä¸€ç§è‡ªåº•å‘ä¸Šçš„å½’å¹¶ï¼Œè¿™ç§å½’å¹¶ç®€å•æ¥è¯´ï¼Œå°±æ˜¯æŠŠä¸€ä¸ªå¤§é—®é¢˜åˆ†è§£ä¸ºå¤šä¸ªå°é—®é¢˜ï¼Œå¤šä¸ªå°é—®é¢˜çš„ç­”æ¡ˆå°±èƒ½å¾—å‡ºå¤§é—®é¢˜çš„ç­”æ¡ˆã€‚ä»è§£å†³é—®é¢˜çš„æ–¹å¼æ¥çœ‹ï¼Œä¸¤ç§å¤„ç†æ–¹å¼æ˜¯äº’é€†çš„ã€‚</p><p>ä»£ç ï¼š<a href="https://github.com/barretlee/algorithms/blob/master/chapters/chapter-2-sorting/2.2-mergesort/mergeRecursiveTop2Bottom.js" target="_blank" rel="noopener">/chapters/chapter-2-sorting/2.2-mergesort/mergeRecursiveTop2Bottom.js</a></p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sort</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> sz = <span class="number">1</span>, len = arr.length; sz &lt; len; sz = sz * <span class="number">2</span>) &#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> start = <span class="number">0</span>; start &lt; len - sz; start += sz * <span class="number">2</span>) &#123;</span><br><span class="line">      arr = merge(arr, start, start + sz - <span class="number">1</span>, <span class="built_in">Math</span>.min(start + sz * <span class="number">2</span> - <span class="number">1</span>, len - <span class="number">1</span>));</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// merge å‡½æ•°åŒä¸Š</span></span><br></pre></td></tr></table></figure><p>ä¸è¿‡è‡ªåº•å‘ä¸Šçš„å½’å¹¶ï¼Œåœ¨ä»£ç ä¸Šç¨å¾®éš¾ç†è§£ä¸€äº›ï¼Œè„‘æµ·é‡è¦æœ‰æ¸…æ™°çš„ç”»å·ï¼ŒçŸ¥é“ç¨‹åºè·‘åˆ°å“ªä¸€æ­¥äº†ï¼Œå°¤å…¶è¿˜éœ€è¦å¤„ç†è¾¹ç•Œé—®é¢˜ã€‚</p><h2 id="å¿«æ’"><a href="#å¿«æ’" class="headerlink" title="å¿«æ’"></a>å¿«æ’</h2><p>ä¸Šé¢è®¨è®ºäº†å½’å¹¶æ’åºï¼Œå°†ä¸€ä¸ªæ•°ç»„æ‹†åˆ†æˆä¸¤ä¸ªï¼Œç„¶ååˆå¹¶å¤„ç†ï¼Œè¿›è€Œæœ‰äº†é€’å½’å½’å¹¶çš„æ€è€ƒã€‚</p><p>è€Œæœ¬èŠ‚æå‡ºäº†ä¸€ç§æ›´åŠ é«˜æ•ˆçš„æ’åºæ–¹æ³•ï¼Œè¿™ç§ç®—æ³•è·Ÿå½’å¹¶æ’åºæ˜¯äº’è¡¥çš„ï¼Œå½’å¹¶æ’åºå¤§è‡´æ€è·¯æ˜¯<code>åˆ†-æ’åºåˆ</code>ï¼Œè€Œæœ¬èŠ‚æå‡ºçš„å¿«æ’é‡‡ç”¨çš„æ€è·¯æ˜¯<code>æ’åºåˆ†-åˆ</code>ï¼ŒæŠŠæ’åºè¿™ç§æŸè€—æ¯”è¾ƒå¤§çš„æ“ä½œå‰ç½®äº†ï¼Œæ‰€ä»¥æ•ˆç‡æ›´é«˜ã€‚</p><p>ä»£ç ï¼š<a href="https://github.com/barretlee/algorithms/blob/master/chapters/chapter-2-sorting/2.3-quicksort/quicksort.js" target="_blank" rel="noopener">/chapters/chapter-2-sorting/2.3-quicksort/quicksort.js</a></p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">quicksort</span>(<span class="params">input</span>) </span>&#123;</span><br><span class="line">  sort(<span class="number">0</span>, input.length - <span class="number">1</span>);</span><br><span class="line">  <span class="keyword">return</span> input;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">sort</span>(<span class="params">start, end</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(start &gt;= end) &#123;</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> mid = partition(start, end);</span><br><span class="line">    sort(start, mid - <span class="number">1</span>);</span><br><span class="line">    sort(mid + <span class="number">1</span>, end);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">partition</span>(<span class="params">start, end</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> i = start, j = end + <span class="number">1</span>, k = input[start];</span><br><span class="line">    <span class="keyword">while</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">      <span class="keyword">while</span>(input[++i] &lt; k) <span class="keyword">if</span>( i === end) <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">while</span>(input[--j] &gt; k) <span class="keyword">if</span>( j === start) <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">if</span>(i &gt;= j) <span class="keyword">break</span>;</span><br><span class="line">      input[i] = [input[j], input[j] = input[i]][<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    input[j] = [input[start], input[start] = input[j]][<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">return</span> j;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªç®—æ³•å†™èµ·æ¥ï¼Œæ„Ÿè§‰ç›¸å½“é…¸çˆ½ï¼Œå› ä¸ºè¿™ä¸ªæ’åºæ€è·¯å¤ªæ£’ï¼Œæƒ…ä¸è‡ªç¦åœ°çƒ­è¡€æ²¸è…¾ã€‚äº‹å®ä¸Šï¼Œè¿™ä¸ªç®—æ³•ä¹Ÿæ˜¯å­˜åœ¨å‡ ä¸ªç–‘ç‚¹çš„ï¼š</p><ul><li>ä»£ç ä¸­çš„ <code>mid</code> è¿™ä¸ªã€Œå“¨å…µã€ä¸ºå•¥è¦å–ç¬¬ä¸€ä¸ªå‘¢ï¼Ÿ</li><li><code>partition</code> å‡½æ•°å½“ <code>end - start</code> å¾ˆå°çš„æ—¶å€™æ•ˆç‡è¿˜é«˜ä¹ˆï¼Ÿ</li></ul><p>äºæ˜¯æœ‰äº†ä¸¤ä¸ªæƒ³æ³•ï¼š</p><ul><li>ä½¿ç”¨ <code>input</code> çš„ä¸­ä½æ•°ä½œä¸ºã€Œå“¨å…µã€</li><li>å½“ <code>end - start</code> æ¯”è¾ƒå°çš„æ—¶å€™ï¼Œå¤§çº¦ä¸º 5~15ï¼Œæ”¹ä¸ºå…¶ä»–æ¯”è¾ƒé«˜æ•ˆçš„ç®—æ³•</li></ul><p>ä»Šå¤©åªå¯¹ç¬¬äºŒä¸ªæƒ³æ³•åšäº†å®è·µï¼ŒåŸºæœ¬æ”¹é€ å¦‚ä¸‹ï¼š</p><p>ä»£ç ï¼š<a href="https://github.com/barretlee/algorithms/blob/master/chapters/chapter-2-sorting/2.3-quicksort/quicksortImprove.js" target="_blank" rel="noopener">chapters/chapter-2-sorting/2.3-quicksort/quicksortImprove.js</a></p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> delta = <span class="number">5</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">quicksortImprove</span>(<span class="params">input</span>) </span>&#123;</span><br><span class="line">  sort(<span class="number">0</span>, input.length - <span class="number">1</span>);</span><br><span class="line">  <span class="keyword">return</span> input;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// sort å’Œ partition å‡½æ•°åŒä¸Š</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">insertion</span>(<span class="params">start, end</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = start + <span class="number">1</span>, len = end - start; i &lt; end; i++) &#123;</span><br><span class="line">      <span class="keyword">for</span>(<span class="keyword">var</span> j = i; j &gt; start; j--) &#123;</span><br><span class="line">        <span class="keyword">if</span>(input[j] &lt; input[j - <span class="number">1</span>]) &#123;</span><br><span class="line">          input[j] = [input[j - <span class="number">1</span>], input[j - <span class="number">1</span>] = input[j]][<span class="number">0</span>];</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä¼˜åŒ–åçš„å¿«æ’"><a href="#ä¼˜åŒ–åçš„å¿«æ’" class="headerlink" title="ä¼˜åŒ–åçš„å¿«æ’"></a>ä¼˜åŒ–åçš„å¿«æ’</h3><p>ä¸Šé¢æåˆ°äº†å¿«æ’å’Œå¿«æ’çš„æ”¹è¿›ç®—æ³•ã€‚å½“å¾…æ’åºçš„æ•°æ®ä¸­å­˜åœ¨å¤§é‡é‡å¤å…ƒç´ æ—¶ï¼Œå¿«æ’çš„æ•ˆç‡ä¼šä¸å¤ªé«˜ï¼Œå½“é‡åˆ°é‡å¤å…ƒç´ çš„æ—¶å€™ï¼Œæ¯”è¾ƒå’Œäº¤æ¢éƒ½æ˜¯èµ˜ä½™çš„ï¼Œé‡å¤å…ƒç´ è¶Šå¤šï¼Œæ€§èƒ½è¶Šå·®ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¼•å…¥äº†ç¬¬ä¸‰ä¸ªå˜é‡ï¼Œæ¥æ ‡è¯†é‡å¤å…ƒç´ åŒºé—´ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><figure class="highlight asciidoc"><table><tr><td class="code"><pre><span class="line"><span class="code">+---------------------------------+</span></span><br><span class="line">|  &lt;v  |  =v  |=========|   &gt; v   |</span><br><span class="line"><span class="code">+---------------------------------+</span></span><br><span class="line"><span class="code">       â†‘      â†‘         â†‘</span></span><br><span class="line"><span class="code">      lt      i         gt</span></span><br></pre></td></tr></table></figure><p>å¤§è‡´çš„åŸç†æ˜¯ï¼šæ¯æ¬¡æ’åºåˆ†ç»„çš„æ—¶å€™ï¼Œå°±ä¼šè¿‡æ»¤æ‰é‡å¤å…ƒç´ ï¼Œè¿™æ ·ï¼Œè¿›å…¥é€’å½’çš„å…ƒç´ å°±å°‘äº†å¾ˆå¤šï¼Œå› æ­¤è€Œæé«˜æ•ˆç‡ã€‚</p><p>ä»£ç ï¼š<a href="https://github.com/barretlee/algorithms/blob/master/chapters/chapter-2-sorting/2.3-quicksort/quick3way.js" target="_blank" rel="noopener">/chapters/chapter-2-sorting/2.3-quicksort/quick3way.js</a></p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">quick3way</span>(<span class="params">input</span>) </span>&#123;</span><br><span class="line">  sort(<span class="number">0</span>, input.length - <span class="number">1</span>);</span><br><span class="line">  <span class="keyword">return</span> input;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">sort</span>(<span class="params">start, end</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(start &gt;= end) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> lt = start, gt = end, i = start + <span class="number">1</span>, v = input[start];</span><br><span class="line">    <span class="keyword">while</span>(i &lt;= gt) &#123;</span><br><span class="line">      <span class="keyword">if</span>(input[i] &lt; v) &#123;</span><br><span class="line">        input[lt] = [input[i], input[i] = input[lt]][<span class="number">0</span>];</span><br><span class="line">        lt++; i++;</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span>(input[i] &gt; v) &#123;</span><br><span class="line">        input[gt] = [input[i], input[i] = input[gt]][<span class="number">0</span>];</span><br><span class="line">        gt--;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        i++;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    sort(start, lt - <span class="number">1</span>);</span><br><span class="line">    sort(gt + <span class="number">1</span>, end);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä¼˜å…ˆé˜Ÿåˆ—ï¼Œå †æ’åº"><a href="#ä¼˜å…ˆé˜Ÿåˆ—ï¼Œå †æ’åº" class="headerlink" title="ä¼˜å…ˆé˜Ÿåˆ—ï¼Œå †æ’åº"></a>ä¼˜å…ˆé˜Ÿåˆ—ï¼Œå †æ’åº</h3><p>ä»æœ€å¼€å§‹åŸºæœ¬çš„å†’æ³¡ã€æ’å…¥ã€é€‰æ‹©å’Œå¸Œå°”æ’åºï¼Œåˆ°åˆ†æ²»æ€æƒ³çš„å»¶ä¼¸â€”â€”å½’å¹¶æ’åºï¼ˆè‡ªé¡¶å‘ä¸‹å’Œè‡ªåº•å‘ä¸Šï¼‰ï¼Œå†åˆ°å½’å¹¶æ’åºçš„äº’è¡¥ç®—æ³•â€”â€”å¿«æ’ï¼Œç„¶åå­¦ä¹ äº†æ–°çš„æ•°æ®ç»“æ„â€”â€”äºŒå‰å †ï¼Œäºæ˜¯æœ‰äº†å †æ’åºã€‚</p><p>äºŒå‰å †æ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œä»–çš„æ¯ä¸€ä¸ªäºŒå‰æ ‘ç‚¹å…ƒç´ æ•°å€¼éƒ½ä¼šæ¯”ä¸‹é¢ä¸¤ä¸ªèŠ‚ç‚¹å…ƒç´ çš„æ•°å€¼è¦å¤§ï¼Œå› ä¸ºè¿™ç§æ•°æ®æ¥å£åŒ…å«çš„ä¿¡æ¯é‡å¾ˆå¤§ï¼Œè€Œå¾—åˆ°è¿™ç§æ•°æ®ç»“æ„çš„æˆæœ¬æ˜¯å¾ˆä½çš„ï¼Œæ„å»ºä¸€ä¸ªäºŒå‰å †çš„ç®—æ³•å¹¶ä¸å¤æ‚ï¼š</p><p>ä»£ç ï¼š<a href="https://github.com/barretlee/algorithms/blob/master/chapters/chapter-2-sorting/2.4-priority-queues/priorityQueueAdd.js" target="_blank" rel="noopener">/chapters/chapter-2-sorting/2.4-priority-queues/priorityQueueAdd.js</a></p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">priorityQueueAdd</span>(<span class="params">input</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> output = [];</span><br><span class="line"></span><br><span class="line">  output[<span class="number">1</span>] = input[<span class="number">0</span>];</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">1</span>, len = input.length; i &lt; len; i++) &#123;</span><br><span class="line">    output = swim(output, input[i]);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> output;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">swim</span>(<span class="params">arr, val</span>) </span>&#123;</span><br><span class="line">    arr.push(val);</span><br><span class="line">    <span class="keyword">var</span> k = arr.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(k &gt; <span class="number">1</span> &amp;&amp; arr[k &gt;&gt; <span class="number">1</span>] &lt; arr[k]) &#123;</span><br><span class="line">      <span class="keyword">var</span> p = k &gt;&gt; <span class="number">1</span>;</span><br><span class="line">      arr[p] = [arr[k], arr[k] = arr[p]][<span class="number">0</span>];</span><br><span class="line">      k = p;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é€šè¿‡ä¸Šæµ®çš„æ–¹å¼ï¼Œä¸æ–­æ’å…¥æ–°å…ƒç´ ï¼Œæ—¢å¯å½¢æˆä¸€ä¸ªäºŒå‰å †ã€‚è¿™ç§ä¼˜å…ˆé˜Ÿåˆ—æœ€å¤§çš„ç‰¹ç‚¹æ˜¯ï¼Œèƒ½å¤Ÿæ‹¿åˆ°å¾ˆå¿«æ‹¿åˆ°æœ€å¤§å…ƒç´ ï¼ˆé¡¶éƒ¨ï¼‰ï¼Œå½“è¿™ä¸ªæœ€å¤§å…ƒç´ è¢«åˆ é™¤ï¼ˆä¼˜å…ˆçº§æœ€é«˜çš„äº‹åŠ¡è¢«å¤„ç†å®Œæˆï¼‰æ—¶ï¼Œè¿˜èƒ½å¿«é€Ÿé«˜æ•ˆåœ°å°†å‰©ä¸‹çš„å…ƒç´ é‡æ•´ä¸ºä¸€ä¸ªäºŒå‰å †ï¼š</p><p>ä»£ç ï¼š<a href="https://github.com/barretlee/algorithms/blob/master/chapters/chapter-2-sorting/2.4-priority-queues/priorityQueueDelete.js" target="_blank" rel="noopener">/chapters/chapter-2-sorting/2.4-priority-queues/priorityQueueDelete.js</a></p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">priorityQueueDelete</span>(<span class="params">input</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> output = [];</span><br><span class="line"></span><br><span class="line">  input.splice(<span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">  output = sink(input);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> output;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">sink</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">    arr.splice(<span class="number">1</span>, <span class="number">0</span>, arr.pop());</span><br><span class="line">    <span class="keyword">var</span> k = <span class="number">1</span>, N = arr.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">2</span> * k &lt;= N) &#123;</span><br><span class="line">      <span class="keyword">var</span> j = <span class="number">2</span> * k;</span><br><span class="line">      <span class="keyword">if</span>(j &lt; N &amp;&amp; arr[j] &lt; arr[j + <span class="number">1</span>]) j++;</span><br><span class="line">      <span class="keyword">if</span>(arr[k] &gt;= arr[j]) <span class="keyword">break</span>;</span><br><span class="line">      arr[k] = [arr[j], arr[j] = arr[k]][<span class="number">0</span>];</span><br><span class="line">      k = j;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸€ä¸ªäºŒå‰å †èƒ½å¤Ÿå¿«é€Ÿæ‹¿åˆ°æœ€å¤§å…ƒç´ ï¼Œå¹¶ä¸”èƒ½å¤Ÿç«‹å³é‡æ–°è°ƒæ•´ä¸ºäºŒå‰å †ï¼ŒåŸºäºè¿™ä¸ªç‰¹æ€§ï¼Œå°±æœ‰äº†<strong>å †æ’åº</strong>ï¼š</p><p>ä»£ç ï¼š<a href="https://github.com/barretlee/algorithms/blob/master/chapters/chapter-2-sorting/2.4-priority-queues/heapSort.js" target="_blank" rel="noopener">/chapters/chapter-2-sorting/2.4-priority-queues/heapSort.js</a></p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">heapSort</span>(<span class="params">input</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> sort(input);</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">sort</span> (<span class="params">arr</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> N = arr.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> k = N &gt;&gt; <span class="number">2</span>; k &gt;= <span class="number">1</span>; k--) &#123;</span><br><span class="line">      arr = sink(arr, k, N);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(N &gt; <span class="number">1</span>) &#123;</span><br><span class="line">      arr[<span class="number">1</span>] = [arr[N], arr[N] = arr[<span class="number">1</span>]][<span class="number">0</span>];</span><br><span class="line">      N--;</span><br><span class="line">      arr = sink(arr, <span class="number">1</span>, N);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">sink</span>(<span class="params">arr, k, N</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">2</span> * k &lt;= N) &#123;</span><br><span class="line">      <span class="keyword">var</span> j = <span class="number">2</span> * k;</span><br><span class="line">      <span class="keyword">if</span>(j &lt; N &amp;&amp; arr[j] &lt; arr[j + <span class="number">1</span>]) j++;</span><br><span class="line">      <span class="keyword">if</span>(arr[k] &gt;= arr[j]) <span class="keyword">break</span>;</span><br><span class="line">      arr[k] = [arr[j], arr[j] = arr[k]][<span class="number">0</span>];</span><br><span class="line">      k = j;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…‰çœ‹ä»£ç è¿˜æ˜¯æŒºéš¾ç†è§£çš„ï¼Œè„‘æµ·ä¸­å¿…é¡»æœ‰ä¸€ä¸ªæ•°ç»„å‚¨å­˜çš„å †æ¨¡å‹ã€‚for å¾ªç¯æ„é€ äº†å †ï¼ˆä» N/2 å¼€å§‹ï¼Œè·³è¿‡äº†æ‰€æœ‰å¤§å°ä¸º 1 çš„å †ï¼‰ï¼Œæ³¨æ„ï¼Œè¿™é‡Œæ„é€ çš„å¹¶ä¸æ˜¯äºŒå‰å †ï¼Œç„¶å while å¾ªç¯å°†æœ€å¤§çš„å…ƒç´  a[1] å’Œ a[n] äº¤æ¢ä½ç½®å¹¶ä¿®å¤å †ï¼Œå¦‚æ­¤å¾ªç¯ç›´åˆ°å †ä¸ºç©ºã€‚</p><p>ä¸Šé¢çš„æ’åºç”¨åˆ°çš„æ˜¯ sink æ–¹æ³•ï¼Œè€Œ swim æ–¹æ³•ä¹Ÿæ˜¯å¯ä»¥ç”¨äºæ’åºç®—æ³•ä¹‹ä¸­çš„ï¼Œè¿™å°±æ˜¯å¯¹åº”çš„<strong>ä¸‹æ²‰æ’åº</strong>ï¼Œæ„Ÿè§‰æœ‰ç‚¹éš¾ç†è§£ã€‚</p><h3 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h3><p>èƒ½å¤Ÿä»ä¸Šå¾€ä¸‹çœ‹åˆ°è¿™é‡Œçš„ï¼Œéœ€è¦ç»™ä½ ç‚¹ä¸ªèµã€‚ç®—æ³•çš„å­¦ä¹ åˆšå¼€å§‹æœ‰ç‚¹æ¯ç‡¥ï¼Œä¹Ÿæœ‰ç‚¹è‰°éš¾ï¼Œå­¦ç€å­¦ç€ï¼Œæ…¢æ…¢çš„å°±èƒ½å¤Ÿé¢†æ‚Ÿå…¶ä¸­çš„è¶£å‘³ã€‚</p><p>åç»­æˆ‘ä¹Ÿä¼šæŠ•å…¥ä¸€éƒ¨åˆ†ç²¾åŠ›æ·±å…¥ç ”ç©¶ç®—æ³•ï¼Œå¸Œæœ›å¯ä»¥é€šè¿‡ä¸€å®šé‡çš„ç®—æ³•å®è·µå¤§å¹…åº¦æå‡è‡ªå·±çš„æ€ç»´èƒ½åŠ›å’ŒåŠ¨æ‰‹èƒ½åŠ›ã€‚</p></div></div><div class="old-article-warning">æœ¬æ–‡åœ¨ <b>1318</b> å¤©ä¹‹å‰å‘è¡¨ï¼ŒæŠ€æœ¯æ›´æ›¿é£å¿«ï¼Œæ–‡ä¸­éƒ¨åˆ†å†…å®¹å¯èƒ½å·²ç»è¿‡æ—¶ï¼Œå¦‚æœ‰ç–‘é—®ï¼Œ è¯·åœ¨ä¸‹æ–¹ç•™è¨€ï¼Œæˆ–è€…è”ç³» <a href="/about">å°èƒ¡å­å“¥</a>ã€‚</div><div class="follow-wechat"><img src="/blogimgs/follow.jpg"></div><div class="copyright" itemscope itemtype="http://schema.org/ProfilePage" tabindex="0" aria-hidden="true"><ul><li>ä½œè€…: <a href="/about/" itemprop="name">Barretæé–</a></li><li>å‘è¡¨æ—¥æœŸ: 2016-08-11 20:24:40</li><li>æ–‡ç« åˆ†ç±»: <a class="category-link" href="/blog/categories/ç®—æ³•/">ç®—æ³•</a></li><li>æ–‡ç« æ ‡ç­¾: <a class="article-tag-link" href="/blog/tags/æ’åºç®—æ³•/">æ’åºç®—æ³•</a></li><li>æœ¬æ–‡ Markdown åœ°å€: <a href="/raw/posts/algorithms-of-sort.md" download target="_blank">èŠä¸€èŠæ’åºç®—æ³•.md</a></li><li>ç‰ˆæƒå£°æ˜: ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç¦æ­¢æ¼”ç» 3.0 å›½é™…ï¼ˆ<a href="https://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh" target="_blank">CC BY-NC-ND 3.0</a>ï¼‰</li><li>æœ€åç¼–è¾‘æ—¶é—´: 2020-03-21 11:15:59</li><li>Feed è®¢é˜…: <a href="/rss2.xml"><i class="icon">&#x25c8;</i></a></li><li style="opacity:.3;text-align:right">ç¼–è¾‘æœ¬æ–‡ï¼š<a href="https://github.com/barretlee/blog/edit/master/blog/src/_posts/2016-08-11-algorithms-of-sort.md" target="_blank" aria-hidden="true"><i class="icon">&#xe622;</i></a>ï¼› æ–°å»ºæ–‡ç« ï¼š<a href="https://github.com/barretlee/blog/new/master/blog/src/_posts" target="_blank" aria-hidden="true"><i class="icon">&#xe616;</i></a></li></ul><a href="/about/"><img src="/blogimgs/avatar150.png"></a></div><em class="arrow-expend" tabindex="0" aria-hidden="0" aria-label="ç‚¹å‡»å±•å¼€ç½‘é¡µå¯¼èˆª" aria-selected="true" aria-lable="ç½‘é¡µå¯¼èˆª" aria-expanded="false" id="i1">â–¾<ul role="group" aria-labelledby="i1" aria-expanded="false"><li><a href="/entry/">åšå®¢</a></li><li><a href="/translation/">ç¿»è¯‘</a></li><li><a href="/message/">ç•™è¨€</a></li><li><a href="/demo/">å®éªŒå®¤</a></li><li><a href="/friends/">å‹æƒ…é“¾æ¥</a></li></ul></em></div><div class="post-relative"><div class="page-relative"><a href="/blog/2016/08/23/javascript-sandbox/" class="post-prev"><i class="icon" tabindex="0" aria-hidden="true">&#x261c;</i> <span class="aria-readonly">ä¸Šä¸€ç¯‡æ–‡ç« </span> <b>æ„å»ºä¸€ä¸ªå®‰å…¨çš„ JavaScript æ²™ç®±</b> </a><a href="/blog/2016/08/04/funning-gitlog/" class="post-next"><span class="aria-readonly">ä¸‹ä¸€ç¯‡æ–‡ç« </span> <b>æœ‰æ„æ€çš„ git-log</b> <i class="icon" tabindex="0" aria-hidden="true">&#xe602;</i></a></div><div class="page-relative-fixed" tabindex="0" aria-hidden="true"><a href="/blog/2016/08/23/javascript-sandbox/" class="prev" title="æ„å»ºä¸€ä¸ªå®‰å…¨çš„ JavaScript æ²™ç®±"><i class="icon">&#xe600;</i> <b>æ„å»ºä¸€ä¸ªå®‰å…¨çš„ JavaScript æ²™ç®±</b> </a><a href="/blog/2016/08/04/funning-gitlog/" class="next" title="æœ‰æ„æ€çš„ git-log"><i class="icon">&#x261e;</i> <b>æœ‰æ„æ€çš„ git-log</b></a></div></div></div><div class="sidebar" tabindex="0" aria-hidden="true"><div class="func-btns func-btns-up"><span class="func-item"><i class="func-nav icon">&#xe618;<span>ç›®å½•</span></i><div><i class="left-arrow"></i><i class="left-arrow-clone"></i> <a href="javascript:void(0);" onclick="return!1">æ˜¾ç¤ºç›®å½•</a></div></span><span class="func-item"><i class="func-font icon">&#xe604;<span>å¤œé—´</span></i><div class="font-choose-box"><i class="left-arrow"></i><i class="left-arrow-clone"></i><div class="font-choose bg-choose"><a href="javascript:void(0)" onclick="return!1" class="bg-type bg-type-sun font-type-song"><i class="icon">&#xe61a;</i></a> <a href="javascript:void(0)" onclick="return!1" class="bg-type bg-type-moon font-type-hei"><i class="icon">&#xe619;</i></a></div></div></span><span class="func-item"><a href="http://weibo.com/173248656" target="_blank"><i class="func-fb icon">åš<span>åˆ†äº«</span></i></a><div><i class="left-arrow"></i><i class="left-arrow-clone"></i><p class="seperator sharecanvas"><a href="javascript: void(0);">å¾®åšåˆ†äº«</a></p><p><a href="http://weibo.com/173248656" target="_blank">å¾®åšå…³æ³¨</a></p></div></span><span class="func-item"><i class="func-about icon">&#x263b;<span>å…³äº</span></i><div><i class="left-arrow"></i><i class="left-arrow-clone"></i><p><a href="/about/" class="func-about-link" target="_blank">å…³äºä½œè€…</a></p><div id="followMeOnWeibo"></div></div></span></div><div class="func-btns"><span class="func-item"><a href="http://demo.barretlee.com" target="_blank"><i class="func-rss icon">&#xe603;<span>å®éªŒ</span></i></a><div><i class="left-arrow"></i><i class="left-arrow-clone"></i><p class="seperator"><a href="http://demo.barretlee.com" target="_blank">Demoå¹³å°</a></p><p class="seperator"><a href="http://md.barretlee.com" target="_blank">WXæ ¼å¼</a></p><p><a href="http://snippets.barretlee.com" target="_blank">Snippetåº”ç”¨</a></p></div></span><span class="func-item"><a href="/friends/" target="_blank"><i class="func-rss icon">&#xe601;<span>é“¾æ¥</span></i></a><div><i class="left-arrow"></i><i class="left-arrow-clone"></i> <a href="/friends/" target="_blank">å‹æƒ…é“¾æ¥</a></div></span><span class="func-item"><a href="/rss2.xml" target="_blank"><i class="func-rss icon">&#x25c8;<span>è®¢é˜…</span></i></a><div><i class="left-arrow"></i><i class="left-arrow-clone"></i><a href="/rss2.xml" target="_blank">è®¢é˜…æˆ‘å§ï¼</a></div></span></div></div><div class="single-page-footer"><div class="footer"><div class="footer-wraper"><div class="footer-content"><div class="footer-nav"><a href="javascript: void(0);" class="ds-thread-count disqus-comment-count" data-thread-key="algorithms-of-sort" data-disqus-identifier="algorithms-of-sort" tabindex="0" aria-hidden="true">è¯„è®ºå†…å®¹</a> <a href="javascript: void(0);" id="comments">ç›¸å…³æ–‡ç« </a> <a href="/friends/" tabindex="0" aria-hidden="true">å‹æƒ…é“¾æ¥</a></div><div class="nav-detail"><div tabindex="0"><div id="gitalk" sid="algorithms-of-sort"></div><script charset="utf-8" type="text/javascript" src="/public/js/gitalk.js"></script><script type="text/javascript">var postContent = document.querySelectorAll('.post-content>p');
  if (postContent && postContent.length) {
    postContent = postContent.item(0).textContent + postContent.item(1).textContent;
    postContent = postContent.length > 140 ? postContent.slice(0, 140) + '...' : postContent;
  }

  var gitalk = new Gitalk({
    clientID: '50a1b3aa7854b01a1c85',
    clientSecret: '226ac154f80a6aea0985da874126b35795f22eed',
    language: "zh-CN",
    perPage: 100,
    createIssueManually: false,
    repo: 'blog',
    owner: 'barretlee',
    admin: ['barretlee'],
    id: "algorithms-of-sort",
    body: 'åŸæ–‡åœ°å€ï¼š' + location.href + '\n\næ–‡æ‘˜ï¼š' + postContent || header.meta[description],
    distractionFreeMode: false
  });

  window.addEventListener('load', function() {
    setTimeout(function() {
      gitalk.render('gitalk');
    }, 2E3);
  });

  // show count
  var commentTimer = setInterval(() => {
    var count = document.querySelector('.gt-link-counts');
    var showCount = document.querySelector('.hash-to-comments');
    if (count && showCount) {
      showCount.textContent = count.textContent;
      clearInterval(commentTimer);
    }
  }, 500);
  setTimeout(() => {
    clearInterval(commentTimer);
  }, 60 * 1E3);</script></div><div style="display:block"><div class="relative-to-comment" tabindex="0" aria-hidden="true"><span>æ‰“å¼€è¯„è®º</span></div><div class="relative-wrapper"><div class="relative-article"><ul></ul></div></div><a href="/entry/" class="relative-to-comment-wrapper" tabindex="0" aria-hidden="true"><div class="relative-to-comment">å›åˆ°é¦–é¡µ</div></a></div><div class="friends-box"><ul><li><a href="http://hustskyking.cnblogs.com" target="_blank">æ—§åšå®¢</a> <font aria-hidden="true">Â»</font> <span>æˆ‘çš„æ—§åšå®¢ï¼ˆåšå®¢å›­è£èª‰åšå®¢ï¼‰</span></li><li><a href="http://www.zhangmengxue.com" target="_blank">å¤§é¢</a> <font aria-hidden="true">Â»</font> <span>å¤§é¢å¤§é¢å“¼æ­Œç­‰æ—¥è½</span></li><li><a href="http://www.zhangxinxu.com" target="_blank">å¼ é‘«æ—­</a> <font aria-hidden="true">Â»</font> <span>åŸæ¥å¤§å­¦æˆ‘ä¿©ä¸€ä¸ªå›¢é˜Ÿçš„~</span></li><li><a href="http://web-tinker.com" target="_blank">æ¬¡ç¢³é…¸é’´</a> <font aria-hidden="true">Â»</font> <span>æ·±åº¦äº¤æµçš„ä¸€ä¸ªå¥½æœ‹å‹</span></li><li><a href="http://imququ.com" target="_blank">å±ˆå±ˆ</a> <font aria-hidden="true">Â»</font> <span>å¥½å§ï¼Œè›è›åŒå­¦</span></li><li><a href="http://www.ruanyifeng.com" target="_blank">é˜®ä¸€å³°</a> <font aria-hidden="true">Â»</font> <span>é˜®è€å¸ˆ,å“ˆå“ˆ,ç¬¬ä¸€æ¬¡è®¾è®¡åšå®¢å°±æ˜¯æŠ„çš„ä½ çš„æ ·å¼</span></li><li><a href="http://annn.me" target="_blank">å®‰è®°</a> <font aria-hidden="true">Â»</font> <span>é˜¿å®‰åŒå­¦</span></li><li><a href="http://mouto.org/" target="_blank">åœåœå£</a> <font aria-hidden="true">Â»</font> <span>äºŒæ¬¡å…ƒåŒ–èº«</span></li><li><a href="/friends/">æ›´å¤šåˆ—è¡¨ <font aria-hidden="true">Â»</font></a></li></ul></div></div><div class="website-info" aria-hidden="true"><a class="page_editor" href="/admin/#/posts/ck811jebi0196r23fzf37jdgl" target="_blank">ğŸ™ˆ</a> <span>&copy;2013-2020 <small><a href="http://www.miitbeian.gov.cn/" about="_blank">æ¹˜ICPå¤‡14007107å·-1</a></small></span> æœ¬ç«™ç”± <a href="/">Barretæé–</a> çº¯æ‰‹å·¥æ‰“é€  | <a href="/about#contact">è”ç³»æ–¹å¼</a> | æ€»çƒ­åº¦ï¼š<em id="busuanzi_value_site_pv"></em> <a href="https://union.zhaodao.ai/#random" title="éšæœºè·³è½¬åˆ°ä¸€ä¸ªæœ‰æ„æ€çš„ç½‘ç«™" target="_blank" class="zhidao_ai"><img src="https://union.zhaodao.ai/icon.black.svg" width="20" height="20"></a></div></div></div></div></div><div class="tools-wrapper" tabindex="0" aria-hidden="true"><a class="gotop icon" href="#" title="å›åˆ°é¡¶éƒ¨">&#x2191;</a><a class="hash-to-comments icon" title="æˆ‘è¦è¯„è®º">&#x2121;</a></div><div class="fixerr" tabindex="0" aria-hidden="true">çº é”™æ¨¡å¼</div></body><script src="/public/js/jquery.js"></script><script src="/public/js/socket.io.js"></script><script>window.onerror=function(o){return window.console&&window.console.log&&window.console.log(o),$("#loadLayer").remove(),!0}</script><script src="/public/js/aplayer.js"></script><script src="/public/js/main.js?v=20191101"></script>